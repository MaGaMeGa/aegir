<!-- the base container for the view -->
<div class="container-fluid">
  <div class="row">
    <!-- left side will be the controls and short stuff-->
    <div class="col-2">

      <!-- controls -->
      <div class="row card">
	<div class="card-header bg-light">Controls</div>
	<div class="card-body">
	  <button *ngIf="state=='NeedMalt'" class="btn btn-warning btn-sm" (click)="onHasMalts()">I Can Has Malts</button>
	  <button *ngIf="state!='Empty'" class="btn btn-danger btn-sm" (click)="onAbortBrew()">It's a trap!</button>
	</div>
      </div>


      <!-- volume adjustment -->
      <div class="row card">
	<div class="card-header bg-light">Volume</div>
	<div class="card-body input-group">
	  <button class="btn btn-default" type="reset" (click)="onVolumeReset()">
	    <i class="fa fa-refresh"></i>
	  </button>
	  <input id="volume" class="form-control" type="number" value="{{volume}}" [(ngModel)]="volume">
	  <button class="btn btn-primary" type="submit" (click)="onVolumeSet()">Set</button>
	</div>
      </div>


      <!-- data -->
      <div class="row card">
	<div class="card-header bg-light">Data</div>
	<div class="card-body">
	  <table class="table table-striped table-pad-2px">
	    <tr>
	      <th>State</th>
	      <td>{{state}}</td>
	    </tr>
	    <tr>
	      <th>Temp target</th>
	      <td>{{targettemp}} C</td>
	    </tr>
	    <ng-template ngFor let-step [ngForOf]="sensors">
	      <tr>
		<th>{{step.sensor}}</th>
		<td>{{step.temp}} C</td>
	      </tr>
	    </ng-template>
	  </table>
	</div>
      </div>

      <!-- mash steps -->
      <div class="row card" *ngIf="state == 'Mashing'">
	<div class="card-header bg-light">Mash Steps</div>
	<div class="card-body">
	  <table class="table table-striped table-pad-2px">
	    <tr>
	      <th>&nbsp;</th>
	      <th>Time</th>
	      <th>Temp[C]</th>
	    </tr>
	    <ng-template ngFor let-step [ngForOf]="program.mashsteps">
	      <tr>
		<td>
		  <i class="fa fa-check" *ngIf="step.orderno < mashstep.orderno || step.orderno == mashstep.orderno && mashstep.time > step.holdtime*60"></i>
		  <i class="fa fa-hourglass" *ngIf="step.orderno == mashstep.orderno && mashstep.time < step.holdtime*60"></i>
		  <i class="fa fa-ellipsis-h" *ngIf="step.orderno > mashstep.orderno"></i>
		</td>
		<td>
		  <i *ngIf="step.orderno == mashstep.orderno && mashstep.time < step.holdtime*60">
		    {{mashstep.textual}} / 
		  </i>
		  {{step.holdtime}}m</td>
		<td>{{step.temperature}}</td>
	      </tr>
	    </ng-template>
	  </table>
	</div>
      </div>

    </div>
    <!-- right side the graph -->
    <div class="col-10 card">
      <div class="card-header bg-light">Graph</div>
      <div class="card-body">
	<div style="display: block;" class="">
	  <canvas baseChart
		  [datasets]="brewChartData"
		  [labels]="brewChartLabels"
		  [options]="brewChartOptions"
		  [legend]="brewChartLegend"
		  [chartType]="brewChartType"></canvas>
	  <!--
		  [colors]="brewChartColors"
	    -->
	</div>
      </div>
    </div>
  </div>
</div>
